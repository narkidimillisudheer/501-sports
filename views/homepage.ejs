<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Card</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
      }

      header {
        background-color: #333;
        color: #fff;
        text-align: center;
        padding: 1em 0;
      }

      main {
        max-width: 800px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      .event-card {
        border: 1px solid #ddd;
        margin: 10px 0;
        padding: 10px;
        border-radius: 5px;
      }

      button {
        background-color: #333;
        color: #fff;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
      }
      button:hover {
        transition: 0.4s all;
        box-shadow: rgb(38, 57, 77) 0px 20px 30px -10px;
        border-radius: 20px;
      }
      .nav {
        display: flex;
        text-align: center;
        justify-content: center;
        gap: 30px;
      }
      .nav a {
        text-decoration: none;
        color: white;
      }
      center {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      .card {
        position: relative;
        /* Added for positioning */
        height: 500px;
        width: 350px;
        box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
      }

      .img img {
        height: 15rem;
        width: 100%;
        border-bottom-left-radius: 25%;
        border-bottom-right-radius: 25%;
        object-fit: cover;
      }

      .info {
        position: absolute;
        bottom: 0;
        /* Align to the bottom */
        left: 0;
        /* Align to the left */
        padding: 20px;
        width: 100%;
        box-sizing: border-box;
        /* Include padding in width calculation */
        background-color: rgba(255, 255, 255, 0.8);
        /* Semi-transparent background for better readability */
      }

      h2 {
        color: #000044;
        margin-bottom: 10px;
      }

      .location,
      .date {
        display: flex;
        gap: 10px;
      }

      a {
        text-decoration: none;
        color: black;
        font-weight: bold;
      }

      .row {
        display: flex;
        justify-content: space-evenly;
        align-items: center;
        row-gap: 30px;
        box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
        margin: auto;
        width: 80%;
        margin-top: 20px;
        padding: 30px;
      }
      
    </style>
  </head>

  <body>
    <header>
      <div><h1>sports scheduler</h1></div>
      <div class="nav">
        <a href="login.html">Create Event</a>
        <a href="" style="text-decoration: line-through">Home</a>
        <a href="">About Us</a>
        <a href="">Contact Us</a>
        <a href="">Login</a>
      </div>
    </header>
    <div class="row">
      <% Data.forEach(function(data) { %>
      <div class="card">
        <div class="img">
          <% if (data.Image) { %>
          <img
            src="data:image/png;base64,<%= data.Image.toString('base64') %>"
            alt="Event Image"
          />
          <% } else { %>
          <img
            src="https://tse2.mm.bing.net/th?id=OIP.4Axc19GL2wQbBYvfcn2IIgHaEo&pid=Api&P=0&h=180"
            alt="Default Image"
          />
          <% } %>
        </div>
        <div class="info">
          <h2
            style="display: flex; justify-content: center; align-items: center"
          >
            <%= data.name %>
          </h2>
          <div class="location">
            <i class="fas fa-location-dot"></i>
            <p><%= data.loc %></p>
          </div>
          <div class="date">
            <i class="fas fa-calendar-days"></i>
            <p><%= data.date %></p>
          </div>
          <div
            class="cont"
            style="height: 30px; display: flex; justify-content: space-between"
          >
            <a
              href="#"
              data-bs-toggle="modal"
              data-bs-target="#exampleModal2_<%= data.id %>"
              >Event Information</a
            >
            <form action="/delete_<%= data.id %>" method="post">
              <button type="submit" style="background: none; border: none; cursor: pointer;">
                <i class="fa-solid fa-trash" style="color: #000000;"></i>
            </button>
            </form>
          </div>
        </div>
        <div class="modal" id="exampleModal2_<%= data.id %>" tabindex="-1">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <!-- <h5 class="modal-title">Modal title</h5> -->
                <p id="message1"></p>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <h3><%= data.name %></h3>
                <p><%= data.info %></p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <% }); %>
      <div class="card">
        <div class="img">
          <img
            src="https://tse2.mm.bing.net/th?id=OIP.4Axc19GL2wQbBYvfcn2IIgHaEo&pid=Api&P=0&h=180"
            alt="Event Image"
          />
        </div>
        <div class="info">
          <h2
            style="display: flex; justify-content: center; align-items: center"
          >
            Car Racing
          </h2>
          <div class="location">
            <i class="fas fa-location-dot"></i>
            <p>Vishnu, Bhimavaram</p>
          </div>
          <div class="date">
            <i class="fas fa-calendar-days"></i>
            <p>Event Date</p>
          </div>
          <div class="cont" style="height: 30px">
            <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal1"
              >Event Information</a
            >
          </div>
        </div>
        <div class="modal" id="exampleModal1" tabindex="-1">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <!-- <h5 class="modal-title">Modal title</h5> -->
                <p id="message1"></p>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                <h3>Event Name</h3>
                <p>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Eum
                  error similique corporis aut cum necessitatibus optio
                  accusantium cupiditate beatae, sint maxime voluptatem omnis ea
                  magnam nostrum vero? Cupiditate, veniam! Placeat!
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script></script>
  </body>
</html>